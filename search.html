<!DOCTYPE html>
<html lang="en" class="custom-scroll">
<head>
    <meta charset="UTF-8">
    <title>筛选壁纸</title>
    <!--=============================================↓CSS和JS部分↓=============================================-->
    <!--====================初始化====================-->
    <!--初始化-->
    <link rel="stylesheet" href="css/search/init/initialize.css">
    <!--层级管理-->
    <link rel="stylesheet" href="css/search/init/z-index.css">
    <!--主题和主题切换-->
    <link rel="stylesheet" href="css/search/init/theme.css">
    <script src="js/search/switchTheme.js" defer></script>
    <!--保存和读取用户设置-->
    <script src="js/search/userSettings/settingsSystem.js" defer></script>
    <!--遮罩层滚动切换器-->
    <script src="js/search/toggleScrollLock.js" defer></script>

    <!--====================dock栏====================-->
    <!--dock栏-->
    <link rel="stylesheet" href="css/search/dock.css">
    <!--dock栏淡入淡出-->
    <script src="js/search/dock.js" defer></script>

    <!--====================图片展示部分====================-->
    <!--遮罩层-->
    <link rel="stylesheet" href="css/search/init/overlay.css">
    <!--图片展示框架-->
    <link rel="stylesheet" href="css/search/showIMGS.css">
    <!--每张图片的样式-->
    <link rel="stylesheet" href="css/search/imgs.css">
    <!--图片查看动画-->
    <script src="js/search/imgAnimation.js" defer></script>
    <!--图片下方展示的标签的样式-->
    <link rel="stylesheet" href="css/search/returnTag.css">
    <!--图片下方标签，拦截竖向滚动修改为横向滚动-->
    <script src="js/search/scrollListener.js" defer></script>
    <!--让图片下方的标签可以添加到筛选池，以供筛选-->
    <script src="js/search/itemListener/addTagFromPic.js" defer></script>

    <!--====================数据操作，显示逻辑====================-->
    <!--把json文件加载到内存，优化筛选速度-->
    <script src="js/search/dataOperationsLayer/loadToMemory.js" defer></script>
    <!--获取筛选结果-->
    <script src="js/search/dataOperationsLayer/getURL.js" defer></script>
    <!--获取标签集-->
    <script src="js/search/dataOperationsLayer/getTag.js" defer></script>
    <!--根据结果展示壁纸-->
    <script src="js/search/Display/DisplayImg.js" defer></script>
    <!--显示隐藏图片下方的标签-->
    <script src="js/search/Display/showTag.js" defer></script>
    <script src="js/search/Display/hideTag.js" defer></script>
    <!--滚动到底部自动加载更多-->
    <script src="js/search/Display/loadMore.js" defer></script>

    <!--====================搜索框部分====================-->
    <!--框架-->
    <link rel="stylesheet" href="css/search/searchFrame/frame.css">
    <!--文本输入框-->
    <link rel="stylesheet" href="css/search/searchFrame/input.css">
    <!--通过搜索框筛选-->
    <script src="js/search/filterWithText/executeFilter.js" defer></script>
    <!--搜索按钮-->
    <link rel="stylesheet" href="css/search/searchFrame/searchButton.css">

    <!--====================筛选器框架====================-->
    <!--筛选器样式-->
    <link rel="stylesheet" href="css/search/filterFrame/Filter.css">
    <!--标签组列表-->
    <link rel="stylesheet" href="css/search/filterFrame/tagList.css">
    <!--预定义的所有标签-->
    <script src="js/search/tagPool.js" defer></script>
    <!--等待用户选择的标签池-->
    <link rel="stylesheet" href="css/search/filterFrame/tagPool.css">
    <!--被选中的标签-->
    <link rel="stylesheet" href="css/search/filterFrame/submitPool.css">
    <!--控制面板-->
    <link rel="stylesheet" href="css/search/filterFrame/control.css">

    <!--====================标签操作====================-->
    <!--加载各种类型的标签-->
    <script src="js/search/itemListener/tagList.js" defer></script>
    <!--添加标签-->
    <script src="js/search/itemListener/chooseTag.js" defer></script>
    <!--删除标签-->
    <script src="js/search/itemListener/removeTag.js" defer></script>
    <!--提交筛选-->
    <script src="js/search/control/submit.js" defer></script>
    <!--清空筛选-->
    <script src="js/search/control/clean.js" defer></script>
    <!--轶事的特殊样式，比较宽-->
    <script src="js/search/switchWide.js" defer></script>

    <!--====================设置部分====================-->
    <!--逻辑部分-->
    <script src="js/search/control/setting.js" defer></script>
    <!--背景-->
    <link rel="stylesheet" href="css/search/set/setBackground.css">
    <!--设置里面的按钮-->
    <link rel="stylesheet" href="css/search/set/setButton.css">
    <!--内边距-->
    <link rel="stylesheet" href="css/search/set/setPadding.css">
    <!--设置左侧切换项目-->
    <link rel="stylesheet" href="css/search/set/setItem.css">
    <!--设置内容框架-->
    <link rel="stylesheet" href="css/search/set/setBox.css">
    <!--设置框架-->
    <link rel="stylesheet" href="css/search/set/setFrame.css">
    <!--动态加载设置内容-->
    <script src="js/search/userSettings/loadSetContent.js" defer></script>
    <!--每个tab分开控制-->
    <link rel="stylesheet" href="css/search/set/setContent/about.css">
    <link rel="stylesheet" href="css/search/set/setContent/debug.css">
    <link rel="stylesheet" href="css/search/set/setContent/mail.css">
    <link rel="stylesheet" href="css/search/set/setContent/preference.css">
    <link rel="stylesheet" href="css/search/set/setContent/tips.css">

    <!--====================其他部分====================-->
    <!--回到顶部样式与逻辑-->
    <link rel="stylesheet" href="css/search/toTop.css">
    <script src="js/search/autoHide.js" defer></script>
    <!--允许选择文本逻辑-->
    <script src="js/search/copyMode.js" defer></script>
    <!--加载选项列表-->
    <!--列表内有函数引用，写到最后-->
    <script src="js/search/userSettings/SETTINGS_CONFIG.js" defer></script>
    <!--=============================================↑CSS和JS部分↑=============================================-->
</head>
<body>
    <div id="location0"><!--藏起来的回到顶部锚点--></div>
    <header>
        <div id="dock">
            <div id="welcome"   class="menu"    onclick="">
                <img src="" alt="欢迎" class="menu_img" onclick="location='index.html#home'">
            </div>
            <div id="publicize" class="menu">
                <img src="" alt="介绍" class="menu_img" onclick="location='index.html#content'">
            </div>
            <div id="foot"      class="menu">
                <img src="" alt="底栏" class="menu_img" onclick="location='index.html#bottom'">
            </div>
            <div id="file"      class="menu">
                <img src="" alt="文件" class="menu_img" onclick="location='search.html'">
            </div>
        </div>
    </header>
    <div id="Filter">
        <div id="searchFrame">
            <label id="fuckLabel">
                <input type="text" id="input" placeholder='活动剧情 远旅' autofocus>
                <span id="searchButton">提交(Enter)</span>
            </label>
        </div>
        <div id="filterBox">
            <div id="tagList" class="custom-scroll">
                <div id="character" class="item allow-copy">按角色筛选</div>
                <div id="mainLine" class="item allow-copy">按主线章节筛选</div>
                <div id="event" class="item allow-copy">按活动章节筛选</div>
                <div id="anecdote" class="item allow-copy">按轶事筛选</div>
                <div id="version" class="item allow-copy">按版本号筛选</div>
                <div id="year" class="item allow-copy">按时间线筛选</div>
                <div id="lightAndDark" class="item allow-copy">按亮色/暗色筛选</div>
                <div id="special" class="item allow-copy">按特殊标签筛选</div>
                <div id="activeSlider"></div>
            </div>
            <!--动态追加待选标签-->
            <div id="tagPool" class="custom-scroll"></div>
            <!--动态追加已选标签-->
            <!--这个div里面不要写注释，空格换行也不要，判定empty会算上-->
            <div id="submitPool" class="custom-scroll"></div>
        </div>
        <!--控制筛选面板-->
        <div id="control">
            <!--显示结果数量-->
            <div id="result">0个筛选结果</div>
            <div id="setButton" class="buttons" onclick="openSettings()">设置&使用说明</div>
            <div id="clean" class="buttons" onclick="clean()">清空筛选标签</div>
            <div id="submit" class="buttons" onclick="submit()">提交筛选</div>
        </div>
    </div>
    <!--遮罩层(查看大图和设置)-->
    <div id="overlay"></div>
    <!--显示图片的所有标签-->
    <div id="returnTag">
        <!--动态获取标签-->
    </div>
    <!--默认隐藏的设置层-->
    <div id="setBackground">
        <div id="setFrame">
            <!--设置tab栏-->
            <div id="setItem">
                <div id="preference" class="setItem" data-Content="setList">用户偏好</div>
                <div id="tips" class="setItem" data-Content="tipList">使用说明</div>
                <div id="mail" class="setItem">邮件</div>
                <div id="about" class="setItem" data-Content="aboutList">关于</div>
                <div id="deBug" class="setItem" data-Content="debugList">开发者选项</div>
            </div>
            <div id="setPadding">
                <!--所有设置内容，都在box内-->
                <div id="setBox" class="custom-scroll">
                    <div id="setList" class="setContent">
                        <div id="generalTitle" class="title topTitle">通用</div>
                        <div class="line"></div>
                        <!--label里面的span只是为了编译器不会显示警告，无特殊意义-->
                        <label class="tips">
                            精确筛选
                            <input type="checkbox" id="preciseScreening" class="switch">
                            <span class="buttonBorder">
                                <span class="OFF buttonText">OFF</span>
                                <span class="ON buttonText">ON</span>
                                <span id="PSSlider" class="buttonSlider"></span>
                            </span>
                        </label>
                        <label class="tips">
                            清空筛选标签的同时清空筛选结果
                            <input type="checkbox" id="cleanAll" class="switch">
                            <span class="buttonBorder">
                                <span class="OFF buttonText">OFF</span>
                                <span class="ON buttonText">ON</span>
                                <span id="CASlider" class="buttonSlider"></span>
                            </span>
                        </label>
                        <label class="tips">
                            在图片下方显示图片的标签
                            <input type="checkbox" id="showTags" class="switch">
                            <span class="buttonBorder">
                                <span class="OFF buttonText">OFF</span>
                                <span class="ON buttonText">ON</span>
                                <span id="STSlider" class="buttonSlider"></span>
                            </span>
                        </label>
                        <label class="tips">
                            允许选择文本
                            <input type="checkbox" id="allowCopy" class="switch">
                            <span class="buttonBorder">
                                <span class="OFF buttonText">OFF</span>
                                <span class="ON buttonText">ON</span>
                                <span id="COPYSlider" class="buttonSlider"></span>
                            </span>
                        </label>
                        <div id="themeTitle" class="title">主题控制</div>
                        <div class="line"></div>
                        <label class="tips">
                            主题色跟随系统
                            <input type="checkbox" id="autoSwitchTheme" class="switch" checked>
                            <span class="buttonBorder">
                                <span class="OFF buttonText">OFF</span>
                                <span class="ON buttonText">ON</span>
                                <span id="ASTSlider" class="buttonSlider"></span>
                            </span>
                        </label>
                        <label class="tips">
                            手动切换暗色/亮色
                            <input type="checkbox" id="manualSwitchTheme" class="switch">
                            <span class="buttonBorder">
                                <span class="OFF buttonText">OFF</span>
                                <span class="ON buttonText">ON</span>
                                <span id="MSTSlider" class="buttonSlider"></span>
                            </span>
                        </label>
                    </div>
                    <div id="tipList" class="setContent">
                        <div id="tipTitle" class="title topTitle">使用说明</div>
                        <div class="line"></div>
                        <div class="tips">单击可以添加/移除筛选标签</div>
                        <div class="tips">所有展示的图像均为未经压缩的原图，可以直接右键复制，图像质量与下载的完全一致</div>
                    </div>
                    <div id="aboutList" class="setContent">
                        <div id="aboutTitle" class="title topTitle">关于</div>
                        <div class="line"></div>
                        <div class="tips">[关于时间线] 数据来源于网络，本人并没有认真考据</div>
                        <div class="tips">[关于图像来源] 图像来自游戏解包文件(解包工作并不是我完成的)</div>
                        <div class="tips">[关于特殊CG] 这些CG在某个版本被添加到游戏内，但是未被使用(或许是我没找到)</div>
                        <div class="tips">[关于社区图像] 这些图像由官方发布至社区，但同时也被打包进了游戏里</div>
                        <div class="tips">[当前版本状态] 内容已经与官方同步，基础功能尚未完成</div>
                    </div>
                    <div id="debugList" class="setContent">
                        <div id="debugTitle" class="title topTitle">开发者选项</div>
                        <div class="line"></div>
                        <label class="tips">
                            快速复制文件名称
                            <input type="checkbox" id="copyFileName" class="switch">
                            <span class="buttonBorder">
                                <span class="OFF buttonText">OFF</span>
                                <span class="ON buttonText">ON</span>
                                <span id="CFNSlider" class="buttonSlider"></span>
                            </span>
                        </label>
                        <div class="tips">
                            重置所有设置项(施工中)
                            <span class="clickButton">重置</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="select">
        <!--动态追加筛选结果-->
    </div>
    <div id="toTop" class="hide" onclick="toTop('location0')">
        ↑<!--回到顶部-->
    </div>
</body>
</html>